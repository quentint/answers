/* 
 * datagif
 * 
 */

/* 
 * TODO
 * 

- Resize en mediaqueries avec transform scale en css, et non avec les fonction resize (à virer ?)

- spotter les ########## à voir

*/

$(function() {
	
	/* Inits */
	
	// Global vars, functions & sets
	
	var $window = $(window),
		B = [],
		current = '#etape-0',
		currentB = 0;
	
	/* Nav */
	
	// Direct access
	
	var hash = document.location.hash.substring(1);
	if (hash != '' && hash != undefined) {
		if ('pushState' in history)
			undefined;// history.pushState('', document.title, window.location.pathname); ##########
		else
			window.location.hash = '';
		$.doTimeout(200, function() {$('a[href="#'+hash+'"]').trigger('click');});
	}
	
	// Nav
	
	function getIndexOf(name) {
		for (var i = 0; i < B.length; i++) {
			if (B[i].boxName == name)
				return i;
		}
		return -1;
	}
	
	function navTo(targt) {
		
		var $target = $(targt);
		
		if ($target.attr('id') === undefined)
			$target = $('#etape-0');
		
		current = '#'+$target.attr('id');
		currentB = getIndexOf(current);
		
		$('a.arrow.blink').removeClass('blink');
		
		// replace elements (reInit)
		B[currentB].reInit();
		// Scroll to anim & animate it
		$('#anim-wrapper').stop(1).delay(100).animate({'margin-top': '-'+(515*currentB)+'px'}, 800, 'easeInOutQuad');
		// And slide !
		$.scrollTo.window().stop(1);
		$.scrollTo($target, 800, {axis: 'y', easing: 'easeInOutQuad', onAfter: function() {
			$.doTimeout(800, function() {B[currentB].launchAnim();});
		}});
		
	}
	
	$('a.arrow').click(function(e) {
		navTo($(this).attr('href'));
		e.preventDefault();
	});
	
	// Keyboard nav & events
	
	$(document).keydown(function(e) {
		var k = e.keyCode,
			dir = false;
		
		if (k == 38)
			dir = 'prev';
		else if (k == 40)
			dir = 'next';
		
		if (dir !== false) {
			$(current+' a.arrow.'+dir).trigger('click');
			e.preventDefault();
		}
	});
	
	// Menu effect
	
	$('#sidebar').hover(function() {
		// handler over
		$(this).stop(1).animate({left: '0px', 'padding-right': '35px'}, 300, 'easeOutQuart');
	}, function() {
		// handler out
		$(this).stop(1).animate({left: '-290px', 'padding-right': '65px'}, 400, 'easeInOutQuad');
	});
	
	/* Resize functions */
	
	$window.resize(function() {
		
		var pdng = Math.floor($('#anim').offset().top - $window.scrollTop()),
			mrgn = $window.height()-pdng-515;
		if (mrgn < 0) mrgn = 0;
		
		// Captions height
		$('#caption article').each(function() {
			$(this).css({'margin-bottom': mrgn+'px', 'padding-top': pdng+'px'});
		});
		
		$.scrollTo.window().stop(1);
		$.scrollTo($(current), 0, {axis: 'y'});
		
		// ########## SI BESOIN, FONCTIONS À ACTIVER ?
		
		function scaleAllPapers() {
			for (var i = 0; i < 40; i++) {
				B[i].resize();
			}
		}
		
		function scalePaper(paper, ratio) {
			var w = paper.width*ratio, h = paper.height*ratio;
			paper.setSize(w, h);
			$(paper.canvas.parentElement).css({width: w, height: h});
		}
		
	});
	
	/* Init & anim functions per boxes */
	
	// Raphael constructors & customs
	
	function Raph(e, w, h) {
		var paper = Raphael(e, w, h);
		paper.setViewBox(0, 0, w, h, true);
		return paper;
	}
	
	var paramBlack = {fill: '#000', stroke: 'none'};
	
	// Intro
	
	B[0] = {
		boxName: '#etape-0', boxAnimName: '#anim-0',
		reInit: function() {
			
		},
		launchAnim: function() {
			$.doTimeout(3000, function() {$('#etape-0 a.next').addClass('blink');});
		},
		resize: function() {
			
		}
	};
	
	// Anim-1
	
	B[1] = {
		boxName: '#etape-1', boxAnimName: '#anim-1',
		reInit: function() {
			$('#etape-1 p').css({opacity: 0});
			$('#anim-1 .cells').addClass('idle');
		},
		launchAnim: function() {
			$('#etape-1 .e1').animate({opacity: 1}, 250);
			$('#etape-1 .e2').dequeue().delay(400).animate({opacity: 1}, 250);
			$('#anim-1 .cells').each(function(i) {
				$(this).dequeue().delay(i*1000+2000).queue(function() {$(this).removeClass('idle');});
			});
			$.doTimeout(4000, function() {$('#etape-1 a.next').addClass('blink');});
		},
		resize: function() {
			
		}
	};
	
	// Anim-2
	
	B[2] = {
		boxName: '#etape-2', boxAnimName: '#anim-2',
		reInit: function() {
			$('#etape-2 p').css({opacity: 0});
			$('#anim-2 .b1 .cells, #anim-2 .b2, #anim-2 .b2 .pastille, #anim-2 .b2 .cells').addClass('idle');
			$('#anim-2 .b1, #anim-2 .b2 .i2').removeClass('idle');
			$('#anim-2 .b1 .i2, #anim-2 .b1 .i5').css({opacity: 0});
			$('#anim-2 .b1 .zoom').css({bottom: '-150px'});
			$('#anim-2 .b1 .i2').show();
			
		},
		launchAnim: function() {
			$('#etape-2 .e1').animate({opacity: 1}, 250);
			$('#anim-2 .b1 .i2').pngif(0, 12);
			$('#anim-2 .b1 .i5').dequeue().delay(400).animate({opacity: 1}, 1000);
			$('#anim-2 .b1 .i2').dequeue().delay(800).animate({opacity: 1}, 1000);
			$.doTimeout(4500, function() {
				$('#anim-2 .b1 .cells').removeClass('idle');
				$('#anim-2 .b1 .i2').fadeOut(1000);
			});
			$.doTimeout(6000, function() {
				$('#anim-2 .b1 .zoom').animate({bottom: '30px'}, 500);
				$('#anim-2 .b1').dequeue().delay(1000).queue(function() {$(this).addClass('idle');});
				$('#anim-2 .b2').dequeue().delay(1200).queue(function() {$(this).removeClass('idle');});
				$('#etape-2 .e2').dequeue().delay(1500).animate({opacity: 1}, 250);
			});
			$.doTimeout(9500, function() {
				$('#etape-2 .e3').animate({opacity: 1}, 250);
				$.doTimeout(2000, function() {$('#anim-2 .b2 .past1').removeClass('idle');});
				$('#anim-2 .b2 .cells:not(.i6)').each(function(i) {
					$(this).dequeue().delay(i*800+2500).queue(function() {$(this).removeClass('idle');});
				});
				$('#etape-2 .e4').dequeue().delay(7000).animate({opacity: 1}, 250);
				$('#anim-2 .b2 .pastille').dequeue().delay(9500).queue(function() {$(this).toggleClass('idle');});
				$('#anim-2 .b2 .i2').dequeue().delay(10000).queue(function() {$(this).addClass('idle');});
				$('#anim-2 .b2 .i6').dequeue().delay(11000).queue(function() {$(this).removeClass('idle');});
				$.doTimeout(12000, function() {$('#etape-2 a.next').addClass('blink');});
			});
		},
		resize: function() {
			
		}
	};
	
	// Anim-3
	
	B[3] = {
		boxName: '#etape-3', boxAnimName: '#anim-3',
		R: Raph($('#anim-3 .b2 .i2')[0], 280, 75), el: {},
		reInit: function() {
			$('#etape-3 p').css({opacity: 0});
			$('#anim-3 .in-anim, #anim-3 .in-anim *').removeAttr('style');
			$('#anim-3 .in-anim .el, #anim-3 .b1 .produit').css({opacity: 0});
			B[3].el.rouge.attr({path: B[3].v[0]});
		},
		launchAnim: function() {
			$('#etape-3 .e1').animate({opacity: 1}, 250);
			$('#anim-3 .b1 .produit').dequeue().delay(3000).animate({opacity: 1}, 250, function() {$(this).delay(800).fadeOut(250);});
			$('#anim-3 .b1 .el').dequeue().delay(4300).animate({opacity: 1}, 250);
			$.doTimeout(4600, function() {
				$('#anim-3 .b1 .i3').pngif(1).animate({right: '430px'}, 800, 'linear');
				$('#anim-3 .b1 .i2').animate({width: '313px'}, 1000, 'linear');
				$('#anim-3 .b1 .i1').animate({left: '10px'}, 600, 'linear');
				$('#anim-3 .b1 .i1').dequeue().delay(400).animate({bottom: '316px', opacity: 0}, 200, 'linear');
			});
			$.doTimeout(6000, function() {
				$('#anim-3 .in-anim').animate({left: '-=675px'}, 500);
			});
			$.doTimeout(7500, function() {
				$('#anim-3 .b2 .produit').fadeOut(250);
				$('#anim-3 .b2 .el').dequeue().delay(300).animate({opacity: 1}, 250);
			});
			$.doTimeout(8000, function() {
				B[3].el.rouge.animate({path: B[3].v[1]}, 1000, 'easeInOut');
				$('#anim-3 .b2 .i1').animate({left: '18px', bottom: '258px'}, 1100, 'easeInOutSine', function() {
					$(this).animate({bottom: '316px', opacity: 0}, 500, 'easeInQuad');
				});
			});
			$.doTimeout(10000, function() {$('#etape-3 a.next').addClass('blink');});
		},
		resize: function() {
			
		}
	};
	
	B[3].v = ['M273,59.3c0,0-4.9-0.7-8.5-1.9c-20.6-6.8-47.3-55.4-52-57c-5.5-1.8-7.8,2.5-7.8,2.5s-47.2,52.2-49.6,65.9c-0.7,4.2,2.2,5,5,5h110.1h2.8c2.8,0,5-2.2,5-5v-4.5C278,61.5,275.8,59.3,273,59.3z', 'M273,58.8c0,0-10.2-0.1-14-0.1c-4.6,0-248.4-0.2-253.3-0.2c-5.5,0-5.7,5.6-5.7,5.6s0,2.8,0,4c0.1,4.3,2.2,5.1,5,5.1h265.2h2.8c2.8,0,5-2.2,5-5v-4.5C278,61,275.8,58.8,273,58.8z'];
	B[3].el.rouge = B[3].R.path(B[3].v[0]).attr({fill: '#FD250C', stroke: 'none'});
	
	// Anim-4
	
	B[4] = {
		boxName: '#etape-4', boxAnimName: '#anim-4', el: {},
		R1: Raph($('#anim-4 .b1 .i1')[0], 552, 271),
		R2: Raph($('#anim-4 .b2 .i1')[0], 451, 202),
		reInit: function() {
			$('#etape-4 p').css({opacity: 0});
			$('#anim-4 .in-anim, #anim-4 .in-anim *').removeAttr('style');
			$('#anim-4 .b2, #anim-4 .b1 .past4, #anim-4 .b2 .pastille').addClass('idle');
			$('#anim-4 .b1, #anim-2 .b1, #anim-2 .b2 .i2').removeClass('idle');
			$('#anim-4 .in-anim .i2, #anim-4 .in-anim .i4').css({opacity: 0});
			$('#anim-4 .b1 .zoom').css({bottom: '-150px'});
			B[4].el.blancs.attr({fill: '#ffffff'});
			B[4].el.rouges.attr({fill: '#FD250C'});
			B[4].el.violet.attr({fill: '#000000'});
			B[4].el.jaune.attr({fill: '#000000'});
		},
		launchAnim: function() {
			$('#anim-4 .b1 .past1, #anim-4 .b1 .past2').removeClass('idle').dequeue().delay(1800).queue(function() {$(this).addClass('idle');});
			$('#etape-4 .e1').dequeue().delay(2200).animate({opacity: 1}, 250);
			$('#anim-4 .b1 .past3').dequeue().delay(5400).queue(function() {$(this).removeClass('idle');});
			$.doTimeout(7500, function() {
				B[4].el.blancs.animate({fill: '#000'}, 2500, 'easeInOut');
				B[4].el.rouges.animate({fill: '#000'}, 2500, 'easeInOut');
				$('#anim-4 .b1 .past3').dequeue().delay(3500).queue(function() {$(this).addClass('idle');});
				$.doTimeout(4000, function() {$('#etape-4 .e2').animate({opacity: 1}, 250);});
				$('#anim-4 .b1 .past4').dequeue().delay(6500).queue(function() {$(this).removeClass('idle');});
			});
			$.doTimeout(15000, function() {
				$('#anim-4 .b1 .i4').pngif().animate({opacity: 1}, 500);
				$('#anim-4 .b1 .i2').animate({opacity: 1}, 500);
				$('#anim-4 .b1 .i3').dequeue().delay(500).animate({height: '248px'}, 2000, 'linear');
			});
			$.doTimeout(17000, function() {
				$('#anim-4 .b1 .zoom').animate({bottom: '30px'}, 500);
				$('#anim-4 .b1').dequeue().delay(1000).queue(function() {$(this).addClass('idle');});
				$('#anim-4 .b2').dequeue().delay(1100).queue(function() {$(this).removeClass('idle');});
			});
			$.doTimeout(19000, function() {
				B[4].el.jaune.animate({fill: '#4B1747'}, 3000, 'easeInOut');
				B[4].el.violet.animate({fill: '#F4B00B'}, 3000, 'easeInOut');
				$('#anim-4 .b2 .pastille').dequeue().delay(2000).queue(function() {$(this).removeClass('idle');});
			});
			$.doTimeout(22000, function() {$('#etape-4 .e3').animate({opacity: 1}, 250);});
			$.doTimeout(23000, function() {$('#etape-4 a.next').addClass('blink');});
		},
		resize: function() {
			
		}
	};
	
	B[4].el.blancs = B[4].R1.path('M198.2,58.9c1,0.7,2,1.2,2.9,1.7l6,16c0,0,6,5,13.6,5c0,0,0,0,0.1,0h0c2.7,0,5.3-0.6,7.7-1.8l0.2-0.1l8-16c2.3-0.4,4.5-0.9,6.6-1.5c3.9-1.1,7.4-2.5,10.4-4.2c0,0-0.1,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0-0.3-0.1-0.5-0.1-0.8c0,0,0,0,0,0c0,0,0,0,0,0c0.4-0.1,0.7-0.5,0.7-1l0-0.1c-0.1-0.4-0.5-0.7-0.9-0.7c0,0,0,0,0,0c0,0,0,0,0,0c-0.1-0.3-0.1-0.5-0.2-0.8c0,0,0,0,0,0c0,0,0,0,0,0c0.4-0.1,0.7-0.6,0.6-1l0-0.2c-0.1-0.4-0.6-0.7-1-0.5c0,0,0,0,0,0c0,0,0,0,0,0c-0.1-0.3-0.2-0.5-0.3-0.8l0,0c0,0,0,0,0,0c0.4-0.2,0.6-0.7,0.4-1.1c0,0,0-0.1,0-0.1c-0.2-0.4-0.7-0.6-1.1-0.4c0,0,0,0,0,0l0,0c-0.1-0.2-0.2-0.5-0.4-0.7l0,0c0,0,0,0,0,0c0.4-0.2,0.5-0.7,0.3-1.1l-0.1-0.1c-0.2-0.4-0.7-0.5-1.1-0.3c0,0,0,0,0,0c-0.1-0.2-0.3-0.5-0.5-0.7c0,0,0,0,0,0c0.4-0.3,0.4-0.8,0.2-1.1l-0.1-0.1c-0.3-0.4-0.8-0.4-1.1-0.2c0,0,0,0,0,0l0,0c-0.2-0.2-0.3-0.4-0.5-0.6l0,0c0,0,0,0,0,0c0.3-0.3,0.3-0.8,0-1.1l-0.1-0.1c-0.3-0.3-0.8-0.3-1.1,0c0,0,0,0,0,0l0,0c-0.2-0.2-0.4-0.4-0.6-0.6l0,0c0,0,0,0,0,0c0.3-0.3,0.3-0.8-0.1-1.1l-0.1-0.1c-0.3-0.3-0.9-0.3-1.1,0.1c0,0,0,0,0,0c0,0,0,0,0,0c-0.2-0.2-0.4-0.3-0.6-0.5c0,0,0,0,0,0c0,0,0,0,0,0c0.3-0.4,0.2-0.9-0.2-1.1l-0.1-0.1c-0.4-0.3-0.9-0.2-1.1,0.2c0,0,0,0,0,0c0,0,0,0,0,0c-0.2-0.1-0.4-0.3-0.7-0.4c0,0,0,0,0,0c0,0,0,0,0,0c0.2-0.4,0.1-0.9-0.3-1.1l-0.1-0.1c-0.4-0.2-0.9-0.1-1.1,0.3c0,0,0,0,0,0c0,0,0,0,0,0c-0.2-0.1-0.5-0.3-0.7-0.4c0,0,0,0,0,0c0,0,0,0,0,0c0.2-0.4,0-0.9-0.4-1.1l-0.1-0.1c-0.4-0.2-0.9,0-1.1,0.4c0,0,0,0,0,0l0,0c-0.2-0.1-0.5-0.2-0.8-0.3l0,0c0,0,0,0,0,0c0.1-0.4-0.1-0.9-0.5-1l-0.1,0c-0.4-0.2-0.9,0.1-1,0.5c0,0,0,0,0,0l0,0c-0.3-0.1-0.5-0.2-0.8-0.3l0,0c0,0,0,0,0,0c0.1-0.4-0.2-0.9-0.6-1c0,0-0.1,0-0.1,0c-0.4-0.1-0.9,0.1-1,0.6c0,0,0,0,0,0c0,0,0,0,0,0c-0.3-0.1-0.5-0.1-0.8-0.2l0,0c0,0,0,0,0,0c0.1-0.4-0.2-0.9-0.7-0.9l-0.1,0l0,0c-0.4-0.1-0.8,0.2-0.9,0.7c0,0,0,0,0,0l0,0c-0.3,0-0.5-0.1-0.8-0.1l0,0c0,0,0,0,0,0c0-0.4-0.3-0.8-0.7-0.9l-0.2,0c-0.4,0-0.8,0.3-0.9,0.7c0,0,0,0,0,0c-0.1,0-0.2,0-0.2,0c-0.2,0-0.4,0-0.6,0l0,0c0,0,0,0,0,0c0-0.4-0.4-0.8-0.8-0.8c0,0-0.1,0-0.1,0c-0.4,0-0.8,0.4-0.8,0.8c0,0,0,0,0,0l0,0c-0.3,0-0.5,0-0.8,0l0,0c0,0,0,0,0,0c0-0.4-0.4-0.8-0.9-0.7l-0.2,0c-0.4,0-0.8,0.4-0.7,0.9c0,0,0,0,0,0c0,0,0,0,0,0c-0.3,0-0.5,0.1-0.8,0.1l0,0c0,0,0,0,0,0c-0.1-0.4-0.5-0.7-0.9-0.7l-0.1,0c-0.4,0.1-0.8,0.5-0.7,0.9c0,0,0,0,0,0l0,0c-0.3,0-0.5,0.1-0.8,0.2c0,0,0,0,0,0c0,0,0,0,0,0c-0.1-0.4-0.5-0.7-1-0.6l-0.2,0c-0.4,0.1-0.7,0.5-0.6,1c0,0,0,0,0,0l0,0c-0.3,0.1-0.5,0.1-0.8,0.2l0,0c0,0,0,0,0,0c-0.1-0.4-0.6-0.6-1-0.5l-0.1,0c-0.4,0.1-0.7,0.6-0.5,1c0,0,0,0,0,0c0,0,0,0,0,0c-0.3,0.1-0.5,0.2-0.8,0.3l0,0c0,0,0,0,0,0c-0.2-0.4-0.7-0.6-1.1-0.4c0,0-0.1,0-0.1,0c-0.4,0.2-0.6,0.7-0.4,1.1c0,0,0,0,0,0c0,0,0,0,0,0c-0.2,0.1-0.5,0.2-0.7,0.3c0,0,0,0,0,0c0,0,0,0,0,0c-0.2-0.4-0.7-0.5-1.1-0.3l-0.1,0.1c-0.4,0.2-0.5,0.7-0.3,1.1c0,0,0,0,0,0c0,0,0,0,0,0c-0.2,0.1-0.5,0.3-0.7,0.4l0,0c0,0,0,0,0,0c-0.2-0.4-0.7-0.5-1.1-0.2l-0.1,0.1c-0.4,0.2-0.5,0.7-0.2,1.1c0,0,0,0,0,0l0,0c-0.2,0.2-0.4,0.3-0.7,0.5c0,0,0,0,0,0c0,0,0,0,0,0c-0.3-0.3-0.8-0.4-1.1-0.1l-0.1,0.1c-0.4,0.3-0.4,0.8-0.1,1.1c0,0,0,0,0,0l0,0c-0.2,0.2-0.4,0.4-0.6,0.5l0,0c0,0,0,0,0,0c-0.3-0.3-0.8-0.3-1.1,0l-0.1,0.1c-0.3,0.3-0.3,0.8,0,1.1c0,0,0,0,0,0c0,0,0,0,0,0c-0.2,0.2-0.4,0.4-0.5,0.6l0,0c0,0,0,0,0,0c-0.3-0.3-0.9-0.2-1.1,0.1l-0.1,0.1c-0.3,0.3-0.3,0.9,0.1,1.1c0,0,0,0,0,0l0,0c-0.2,0.2-0.3,0.4-0.5,0.6l0,0c0,0,0,0,0,0c-0.4-0.3-0.9-0.2-1.1,0.2l-0.1,0.1c-0.2,0.4-0.2,0.9,0.2,1.1c0,0,0,0,0,0l0,0c-0.1,0.2-0.3,0.4-0.4,0.7c0,0,0,0,0,0c0,0,0,0,0,0c-0.4-0.2-0.9-0.1-1.1,0.3L200,50c-0.2,0.4-0.1,0.9,0.3,1.1c0,0,0,0,0,0c-0.1,0.2-0.2,0.5-0.3,0.7c0,0,0,0,0,0c-0.4-0.2-0.9,0-1.1,0.4l-0.1,0.2c-0.2,0.4,0,0.9,0.5,1c0,0,0,0,0,0l0,0c-0.1,0.3-0.2,0.5-0.3,0.8l0,0c0,0,0,0,0,0c-0.4-0.1-0.9,0.1-1,0.6l0,0.2c-0.1,0.4,0.1,0.9,0.6,1c0,0,0,0,0,0c0,0.1,0,0.1,0,0.2c0,0.2-0.1,0.4-0.1,0.6c0,0,0,0,0,0c0,0,0,0,0,0c-0.4-0.1-0.9,0.2-0.9,0.7l0,0.2c-0.1,0.4,0.3,0.8,0.7,0.9c0,0,0,0,0,0l0,0C198.2,58.6,198.2,58.7,198.2,58.9zM196.2,131.3l6.6,17.7c0,0,6.7,5.6,15.2,5.6c0,0,0.1,0,0.1,0h0c3,0,5.8-0.7,8.6-1.9l0.2-0.1l8.9-17.8c2.5-0.4,5-1,7.3-1.7c4.3-1.2,8.2-2.8,11.6-4.7c0,0-0.1,0-0.1,0c0,0,0,0,0,0l0,0c0-0.3-0.1-0.5-0.1-0.8c0,0,0,0,0,0c0,0,0,0,0,0c0.5-0.1,0.8-0.5,0.7-1l0-0.2c-0.1-0.5-0.5-0.8-1-0.7c0,0,0,0,0,0v0c-0.1-0.3-0.1-0.6-0.2-0.9l0,0c0,0,0,0,0,0c0.5-0.1,0.8-0.6,0.6-1.1l-0.1-0.2c-0.1-0.5-0.6-0.7-1.1-0.6c0,0,0,0,0,0c0,0,0,0,0,0c-0.1-0.3-0.2-0.6-0.3-0.8c0,0,0,0,0,0c0,0,0,0,0,0c0.5-0.2,0.7-0.7,0.5-1.2l-0.1-0.2c-0.2-0.5-0.7-0.7-1.2-0.5c0,0,0,0,0,0c-0.1-0.3-0.3-0.5-0.4-0.8c0,0,0,0,0,0c0.4-0.3,0.6-0.8,0.3-1.2L252,118c-0.3-0.4-0.8-0.6-1.2-0.3c0,0,0,0,0,0c-0.2-0.3-0.3-0.5-0.5-0.8c0,0,0,0,0,0c0.4-0.3,0.5-0.9,0.2-1.3l-0.1-0.2c-0.3-0.4-0.9-0.5-1.3-0.2c0,0,0,0,0,0l0,0c-0.1-0.1-0.2-0.3-0.3-0.4c-0.1-0.1-0.2-0.2-0.3-0.3c0,0,0,0,0,0c0.4-0.3,0.4-0.9,0-1.3l-0.1-0.1c-0.3-0.4-0.9-0.4-1.3,0c0,0,0,0,0,0l0,0c-0.2-0.2-0.4-0.4-0.6-0.6c0,0,0,0,0,0c0,0,0,0,0,0c0.3-0.4,0.3-0.9-0.1-1.3l-0.1-0.1c-0.4-0.3-0.9-0.3-1.3,0.1c0,0,0,0,0,0c0,0,0,0,0,0c-0.2-0.2-0.5-0.4-0.7-0.5c0,0,0,0,0,0c0,0,0,0,0,0c0.3-0.4,0.2-1-0.2-1.3l-0.1-0.1c-0.4-0.3-1-0.2-1.3,0.2c0,0,0,0,0,0c0,0,0,0,0,0c-0.2-0.2-0.5-0.3-0.8-0.5l0,0c0,0,0,0,0,0c0.2-0.4,0.1-1-0.3-1.2l-0.1-0.1c-0.4-0.2-1-0.1-1.2,0.3c0,0,0,0,0,0c0,0,0,0,0,0c-0.3-0.1-0.5-0.3-0.8-0.4c0,0,0,0,0,0c0,0,0,0,0,0c0.2-0.5,0-1-0.4-1.2l-0.2-0.1c-0.5-0.2-1,0-1.2,0.4c0,0,0,0,0,0c0,0,0,0,0,0c-0.3-0.1-0.5-0.2-0.8-0.3c0,0,0,0,0,0c0,0,0,0,0,0c0.2-0.5-0.1-1-0.6-1.1l-0.2-0.1c-0.5-0.2-1,0.1-1.2,0.5c0,0,0,0,0,0h0c-0.3-0.1-0.6-0.2-0.9-0.3c0,0,0,0,0,0c0,0,0,0,0,0c0.1-0.5-0.2-1-0.7-1.1l-0.2,0c-0.5-0.1-1,0.2-1.1,0.6c0,0,0,0,0,0c0,0,0,0,0,0c-0.3-0.1-0.6-0.1-0.8-0.2l0,0c0,0,0,0,0,0c0.1-0.5-0.3-1-0.7-1l-0.1,0l0,0c-0.5-0.1-0.9,0.2-1,0.7c0,0,0,0,0,0l0,0c-0.3,0-0.6-0.1-0.9-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0-0.5-0.3-0.9-0.8-1l-0.2,0c-0.5,0-0.9,0.3-1,0.8c0,0,0,0,0,0c-0.3,0-0.6,0-0.9-0.1c0,0,0,0,0,0c0-0.5-0.4-0.9-0.9-0.9l-0.2,0c0,0,0,0,0,0c-0.5,0-0.9,0.4-0.9,0.9c0,0,0,0,0,0c-0.3,0-0.6,0-0.9,0c0,0,0,0,0,0c0-0.5-0.5-0.9-1-0.8l-0.2,0c-0.5,0-0.9,0.5-0.8,1c0,0,0,0,0,0c0,0,0,0,0,0c-0.3,0-0.5,0.1-0.8,0.1c0,0-0.1,0-0.1,0c0,0,0,0,0,0c-0.1-0.5-0.5-0.8-1-0.7l-0.2,0c-0.5,0.1-0.8,0.5-0.8,1c0,0,0,0,0,0c0,0,0,0,0,0c-0.3,0.1-0.6,0.1-0.9,0.2l0,0c0,0,0,0,0,0c-0.1-0.5-0.6-0.8-1.1-0.7l-0.2,0c-0.5,0.1-0.8,0.6-0.7,1.1c0,0,0,0,0,0l0,0c-0.3,0.1-0.6,0.2-0.9,0.2c0,0,0,0,0,0c0,0,0,0,0,0c-0.2-0.5-0.7-0.7-1.1-0.6l-0.2,0.1c-0.5,0.2-0.7,0.7-0.6,1.1c0,0,0,0,0,0c0,0,0,0,0,0c-0.3,0.1-0.6,0.2-0.8,0.3l0,0c0,0,0,0,0,0c-0.2-0.5-0.7-0.7-1.2-0.5l-0.2,0.1c-0.5,0.2-0.7,0.7-0.5,1.2c0,0,0,0,0,0l0,0c-0.3,0.1-0.5,0.2-0.8,0.4c0,0,0,0,0,0c0,0,0,0,0,0c-0.2-0.4-0.8-0.6-1.2-0.4l-0.2,0.1c-0.4,0.2-0.6,0.8-0.4,1.2c0,0,0,0,0,0c0,0,0,0,0,0c-0.3,0.2-0.5,0.3-0.8,0.5l0,0c0,0,0,0,0,0c-0.3-0.4-0.9-0.5-1.3-0.2c0,0-0.1,0.1-0.1,0.1c-0.4,0.3-0.5,0.8-0.2,1.2c0,0,0,0,0,0l0,0c-0.3,0.2-0.5,0.4-0.8,0.6l0,0c0,0,0,0,0,0c-0.3-0.4-0.9-0.4-1.3-0.1l-0.1,0.1c-0.4,0.3-0.5,0.9-0.1,1.3c0,0,0,0,0,0l0,0c-0.2,0.2-0.5,0.4-0.7,0.6c0,0,0,0,0,0c0,0,0,0,0,0c-0.3-0.4-0.9-0.4-1.3,0l-0.1,0.1c-0.4,0.3-0.4,0.9,0,1.3c0,0,0,0,0,0c0,0,0,0,0,0c-0.2,0.2-0.4,0.4-0.6,0.7c0,0,0,0,0,0c0,0,0,0,0,0c-0.4-0.3-1-0.3-1.3,0.1l-0.1,0.1c-0.3,0.4-0.3,0.9,0.1,1.3c0,0,0,0,0,0c0,0,0,0,0,0c-0.2,0.2-0.4,0.5-0.5,0.7c0,0,0,0,0,0c0,0,0,0,0,0c-0.4-0.3-1-0.2-1.3,0.2l-0.1,0.2c-0.3,0.4-0.2,1,0.2,1.3c0,0,0,0,0,0l0,0c-0.2,0.2-0.3,0.5-0.4,0.7c0,0,0,0,0,0c0,0,0,0,0,0c-0.4-0.2-1-0.1-1.2,0.4l-0.1,0.2c-0.2,0.4-0.1,1,0.4,1.2c0,0,0,0,0,0l0,0c-0.1,0.3-0.3,0.5-0.4,0.8l0,0c0,0,0,0,0,0c-0.5-0.2-1,0-1.2,0.5l-0.1,0.2c-0.2,0.5,0.1,1,0.5,1.2c0,0,0,0,0,0c-0.1,0.2-0.1,0.3-0.2,0.5c0,0.1-0.1,0.3-0.1,0.4l0,0c0,0,0,0,0,0c-0.5-0.1-1,0.2-1.1,0.6l0,0.2c-0.1,0.5,0.2,1,0.6,1.1c0,0,0,0,0,0l0,0c-0.1,0.3-0.1,0.6-0.2,0.9c0,0,0,0,0,0c-0.5-0.1-1,0.3-1,0.7l0,0.2c-0.1,0.5,0.3,0.9,0.8,1c0,0,0,0,0,0c0,0,0,0,0,0c0,0.1,0,0.2,0,0.3C194,130.1,195.1,130.8,196.2,131.3zM86.7,131.3l6.6,17.7c0,0,6.7,5.6,15.2,5.6c0,0,0.1,0,0.1,0h0c3,0,5.8-0.7,8.6-1.9l0.2-0.1l8.9-17.8c2.5-0.4,5-1,7.3-1.7c4.3-1.2,8.2-2.8,11.6-4.7c0,0-0.1,0-0.1,0c0,0,0,0,0,0l0,0c0-0.3-0.1-0.6-0.1-0.9c0,0,0,0,0,0c0,0,0,0,0,0c0.5-0.1,0.8-0.6,0.7-1.1c0,0,0-0.1,0-0.1c-0.1-0.5-0.5-0.8-1-0.7c0,0,0,0,0,0c0,0,0,0,0,0c-0.1-0.3-0.1-0.6-0.2-0.9c0,0,0,0,0,0c0,0,0,0,0,0c0.5-0.1,0.8-0.6,0.6-1.1l-0.1-0.2c-0.1-0.5-0.6-0.7-1.1-0.6c0,0,0,0,0,0c0,0,0,0,0,0c-0.1-0.3-0.2-0.6-0.3-0.8c0,0,0,0,0,0c0,0,0,0,0,0c0.5-0.2,0.7-0.7,0.5-1.2l-0.1-0.2c-0.2-0.5-0.7-0.7-1.2-0.5c0,0,0,0,0,0c-0.1-0.3-0.3-0.5-0.4-0.8c0,0,0,0,0,0c0.4-0.3,0.6-0.8,0.3-1.2l-0.1-0.2c-0.3-0.4-0.8-0.6-1.2-0.3c0,0,0,0,0,0c-0.1-0.2-0.2-0.3-0.3-0.5c-0.1-0.1-0.1-0.2-0.2-0.3l0,0c0,0,0,0,0,0c0.4-0.3,0.5-0.9,0.2-1.3l-0.1-0.2c-0.3-0.4-0.9-0.5-1.3-0.2c0,0,0,0,0,0c-0.2-0.2-0.4-0.5-0.6-0.7c0,0,0,0,0,0c0.4-0.3,0.4-0.9,0-1.3l-0.1-0.1c-0.3-0.4-0.9-0.4-1.3,0c0,0,0,0,0,0l0,0c-0.2-0.2-0.4-0.4-0.6-0.6l0,0c0,0,0,0,0,0c0.3-0.4,0.3-0.9-0.1-1.3l-0.1-0.1c-0.4-0.3-0.9-0.3-1.3,0.1c0,0,0,0,0,0c0,0,0,0,0,0c-0.2-0.2-0.5-0.4-0.7-0.6c0,0,0,0,0,0c0,0,0,0,0,0c0.3-0.4,0.2-1-0.2-1.3l-0.1-0.1c-0.4-0.3-1-0.2-1.3,0.2c0,0,0,0,0,0l0,0c-0.3-0.2-0.5-0.3-0.8-0.5l0,0c0,0,0,0,0,0c0.2-0.4,0.1-1-0.3-1.2l-0.1-0.1c-0.4-0.2-1-0.1-1.2,0.3c0,0,0,0,0,0l0,0c-0.3-0.1-0.5-0.3-0.8-0.4l0,0c0,0,0,0,0,0c0.2-0.5,0-1-0.4-1.2l-0.2-0.1c-0.5-0.2-1,0-1.2,0.4c0,0,0,0,0,0l0,0c-0.3-0.1-0.6-0.2-0.8-0.3l0,0c0,0,0,0,0,0c0.2-0.5-0.1-1-0.6-1.1l-0.2-0.1c-0.5-0.2-1,0.1-1.2,0.5c0,0,0,0,0,0c0,0,0,0,0,0c-0.3-0.1-0.6-0.2-0.8-0.3l0,0c0,0,0,0,0,0c0.1-0.5-0.2-1-0.7-1.1l-0.2,0c-0.5-0.1-1,0.2-1.1,0.6c0,0,0,0,0,0c0,0,0,0,0,0c-0.3-0.1-0.6-0.1-0.9-0.2l0,0c0,0,0,0,0,0c0.1-0.5-0.3-1-0.7-1l-0.1,0l0,0c-0.5-0.1-0.9,0.2-1,0.7c0,0,0,0,0,0l0,0c-0.3,0-0.6-0.1-0.9-0.1l0,0c0,0,0,0,0,0c0-0.5-0.3-0.9-0.8-1l-0.2,0c-0.5,0-0.9,0.3-1,0.8c0,0,0,0,0,0c-0.3,0-0.6,0-0.9-0.1c0,0,0,0,0,0c0-0.5-0.4-0.9-0.9-0.9l-0.2,0c0,0,0,0,0,0c-0.5,0-0.9,0.4-0.9,0.9c0,0,0,0,0,0c-0.3,0-0.6,0-0.9,0c0,0,0,0,0,0c0-0.5-0.5-0.9-1-0.8l-0.2,0c-0.5,0-0.9,0.5-0.8,1c0,0,0,0,0,0c0,0,0,0,0,0c-0.2,0-0.5,0.1-0.7,0.1c-0.1,0-0.1,0-0.2,0c0,0,0,0,0,0c-0.1-0.5-0.5-0.8-1-0.7l-0.2,0c-0.5,0.1-0.8,0.5-0.8,1c0,0,0,0,0,0c0,0,0,0,0,0c-0.3,0.1-0.6,0.1-0.9,0.2c0,0,0,0,0,0c0,0,0,0,0,0c-0.1-0.5-0.6-0.8-1.1-0.7l-0.2,0c-0.5,0.1-0.8,0.6-0.7,1.1c0,0,0,0,0,0c0,0,0,0,0,0c-0.3,0.1-0.6,0.2-0.9,0.2c0,0,0,0,0,0c0,0,0,0,0,0c-0.2-0.5-0.7-0.7-1.1-0.6l-0.2,0.1c-0.5,0.2-0.7,0.7-0.6,1.1c0,0,0,0,0,0c0,0,0,0,0,0c-0.3,0.1-0.5,0.2-0.8,0.3l0,0c0,0,0,0,0,0c-0.2-0.5-0.7-0.7-1.2-0.5l-0.2,0.1c-0.5,0.2-0.7,0.7-0.5,1.2c0,0,0,0,0,0c0,0,0,0,0,0c-0.3,0.1-0.5,0.3-0.8,0.4l0,0c0,0,0,0,0,0c-0.2-0.4-0.8-0.6-1.2-0.4l-0.2,0.1c-0.4,0.2-0.6,0.8-0.4,1.2c0,0,0,0,0,0c0,0,0,0,0,0c-0.3,0.2-0.5,0.3-0.8,0.5l0,0c0,0,0,0,0,0c-0.3-0.4-0.9-0.5-1.3-0.2c0,0-0.1,0.1-0.1,0.1c-0.4,0.3-0.5,0.8-0.2,1.2c0,0,0,0,0,0c0,0,0,0,0,0c-0.3,0.2-0.5,0.4-0.8,0.5c0,0,0,0,0,0c0,0,0,0,0,0c-0.3-0.4-0.9-0.4-1.3-0.1l-0.1,0.1c-0.4,0.3-0.5,0.9-0.1,1.3c0,0,0,0,0,0c0,0,0,0,0,0c-0.2,0.2-0.5,0.4-0.7,0.6l0,0c0,0,0,0,0,0c-0.3-0.4-0.9-0.4-1.3,0l-0.1,0.1c-0.4,0.3-0.4,0.9,0,1.3c0,0,0,0,0,0c0,0,0,0,0,0c-0.2,0.2-0.4,0.4-0.6,0.6l0,0c0,0,0,0,0,0c-0.4-0.3-1-0.3-1.3,0.1l-0.1,0.1c-0.3,0.4-0.3,0.9,0.1,1.3c0,0,0,0,0,0c0,0,0,0,0,0c-0.2,0.2-0.4,0.5-0.5,0.7l0,0c0,0,0,0,0,0c-0.4-0.3-1-0.2-1.3,0.2L87,117c-0.3,0.4-0.2,1,0.2,1.3c0,0,0,0,0,0l0,0c-0.2,0.3-0.3,0.5-0.5,0.8l0,0c0,0,0,0,0,0c-0.4-0.2-1-0.1-1.2,0.4l-0.1,0.2c-0.2,0.4-0.1,1,0.4,1.2c0,0,0,0,0,0c-0.1,0.3-0.3,0.5-0.4,0.8c0,0,0,0,0,0c-0.5-0.2-1,0-1.2,0.5l-0.1,0.2c-0.2,0.5,0.1,1,0.5,1.2c0,0,0,0,0,0l0,0c0,0,0,0.1,0,0.1c-0.1,0.2-0.2,0.5-0.2,0.7c0,0,0,0,0,0c-0.5-0.1-1,0.2-1.1,0.6l0,0.2c-0.1,0.5,0.2,1,0.6,1.1c0,0,0,0,0,0c0,0.1,0,0.1,0,0.2c0,0.2-0.1,0.5-0.1,0.7v0c-0.5-0.1-1,0.3-1,0.7l0,0.2c-0.1,0.5,0.3,0.9,0.8,1c0,0,0,0,0,0c0,0,0,0,0,0c0,0.1,0,0.2,0,0.3C84.6,130.1,85.7,130.8,86.7,131.3zM182.3,215.7l7.4,19.7c0,0,7.4,6.2,16.8,6.2c0,0,0.1,0,0.1,0h0c3.3,0,6.5-0.7,9.5-2.2l0.2-0.1l9.9-19.7c2.8-0.5,5.5-1.1,8.1-1.9c4.8-1.3,9.1-3.1,12.9-5.2c-0.1,0-0.1,0-0.2,0c0,0,0,0,0,0c0,0,0,0,0,0c0-0.3-0.1-0.6-0.1-0.9c0,0,0,0,0,0c0,0,0,0,0,0c0.5-0.1,0.9-0.6,0.8-1.1l0-0.2c-0.1-0.5-0.6-0.9-1.2-0.8c0,0,0,0,0,0c0,0,0,0,0,0c-0.1-0.3-0.1-0.6-0.2-1c0,0,0,0,0,0c0,0,0,0,0,0c0.5-0.1,0.8-0.7,0.7-1.2L247,207c-0.2-0.5-0.7-0.8-1.2-0.7c0,0,0,0,0,0c0,0,0,0,0,0c-0.1-0.3-0.2-0.6-0.3-0.9l0,0c0,0,0,0,0,0c0.5-0.2,0.7-0.8,0.5-1.3l-0.1-0.2c-0.2-0.5-0.8-0.7-1.3-0.5c0,0,0,0,0,0l0,0c-0.1-0.3-0.3-0.5-0.4-0.7c0,0-0.1-0.1-0.1-0.2c0,0,0,0,0,0c0.5-0.3,0.6-0.9,0.4-1.4l-0.1-0.2c-0.3-0.5-0.9-0.6-1.4-0.4c0,0,0,0,0,0l0,0c-0.2-0.3-0.4-0.6-0.6-0.8l0,0c0,0,0,0,0,0c0.4-0.3,0.5-1,0.2-1.4l-0.1-0.2c-0.3-0.4-1-0.5-1.4-0.2c0,0,0,0,0,0l0,0c-0.2-0.3-0.4-0.5-0.6-0.8l0,0c0,0,0,0,0,0c0.4-0.4,0.4-1,0.1-1.4l-0.1-0.2c-0.4-0.4-1-0.4-1.4,0c0,0,0,0,0,0l0,0c-0.2-0.2-0.5-0.5-0.7-0.7c0,0,0,0,0,0c0,0,0,0,0,0c0.4-0.4,0.3-1.1-0.1-1.4l-0.1-0.1c0,0,0,0-0.1,0c-0.4-0.4-1-0.3-1.4,0.1c0,0,0,0,0,0c0,0,0,0,0,0c-0.3-0.2-0.5-0.4-0.8-0.6l0,0c0,0,0,0,0,0c0.3-0.5,0.2-1.1-0.2-1.4l-0.2-0.1c-0.4-0.3-1.1-0.2-1.4,0.2c0,0,0,0,0,0l0,0c-0.3-0.2-0.6-0.4-0.8-0.5l0,0c0,0,0,0,0,0c0.3-0.5,0.1-1.1-0.4-1.4l-0.2-0.1c-0.5-0.3-1.1-0.1-1.4,0.4c0,0,0,0,0,0c0,0,0,0,0,0c-0.3-0.2-0.6-0.3-0.9-0.5c0,0,0,0,0,0c0,0,0,0,0,0c0.2-0.5,0-1.1-0.5-1.3l-0.2-0.1c-0.5-0.2-1.1,0-1.3,0.5c0,0,0,0,0,0c0,0,0,0,0,0c-0.3-0.1-0.6-0.3-0.9-0.4c0,0,0,0,0,0c0,0,0,0,0,0c0.2-0.5-0.1-1.1-0.6-1.3l-0.2-0.1c-0.5-0.2-1.1,0.1-1.3,0.6c0,0,0,0,0,0l0,0c-0.3-0.1-0.6-0.2-0.9-0.3c0,0,0,0,0,0c0,0,0,0,0,0c0.1-0.5-0.2-1.1-0.7-1.2l-0.2-0.1c-0.5-0.1-1.1,0.2-1.2,0.7c0,0,0,0,0,0l0,0c-0.3-0.1-0.6-0.2-1-0.2c0,0,0,0,0,0c0,0,0,0,0,0c0.1-0.5-0.3-1.1-0.8-1.2l-0.2,0c-0.6-0.1-1.1,0.3-1.2,0.8c0,0,0,0,0,0c0,0,0,0,0,0c-0.3,0-0.6-0.1-1-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0.1-0.5-0.3-1-0.9-1.1l-0.2,0c-0.5-0.1-1,0.4-1.1,0.9c0,0,0,0,0,0l0,0c-0.2,0-0.3,0-0.5,0c-0.2,0-0.3,0-0.5,0c0,0,0,0,0,0c0-0.6-0.4-1-1-1l-0.2,0c-0.5,0-1,0.4-1,1c0,0,0,0,0,0l0,0c-0.3,0-0.7,0-1,0l0,0c0,0,0,0,0,0c0-0.6-0.5-1-1.1-0.9l-0.2,0c-0.6,0-1,0.5-0.9,1.1c0,0,0,0,0,0c0,0,0,0,0,0c-0.3,0-0.7,0.1-1,0.1l0,0c0,0,0,0,0,0c-0.1-0.5-0.6-0.9-1.1-0.8l-0.2,0l0,0c-0.5,0.1-0.9,0.6-0.8,1.1c0,0,0,0,0,0c0,0,0,0,0,0c-0.3,0.1-0.7,0.1-1,0.2l0,0c0,0,0,0,0,0c-0.1-0.5-0.6-0.9-1.2-0.8l-0.2,0c-0.5,0.1-0.9,0.7-0.7,1.2c0,0,0,0,0,0c0,0,0,0,0,0c-0.3,0.1-0.6,0.2-1,0.3c0,0,0,0,0,0c0,0,0,0,0,0c-0.2-0.5-0.7-0.8-1.3-0.6l-0.2,0.1c-0.5,0.2-0.8,0.7-0.6,1.3c0,0,0,0,0,0l0,0c-0.3,0.1-0.6,0.2-0.9,0.3c0,0,0,0,0,0c0,0,0,0,0,0c-0.2-0.5-0.8-0.8-1.3-0.5l-0.2,0.1c-0.5,0.2-0.7,0.8-0.5,1.3c0,0,0,0,0,0l0,0c-0.3,0.1-0.6,0.3-0.9,0.4c0,0,0,0,0,0c0,0,0,0,0,0c-0.3-0.5-0.9-0.7-1.4-0.4l-0.2,0.1c-0.5,0.3-0.7,0.9-0.4,1.4c0,0,0,0,0,0l0,0c-0.3,0.2-0.6,0.3-0.9,0.5c0,0,0,0,0,0c0,0,0,0,0,0c-0.3-0.5-0.9-0.6-1.4-0.3l-0.2,0.1c-0.5,0.3-0.6,0.9-0.3,1.4c0,0,0,0,0,0l0,0c-0.3,0.2-0.5,0.4-0.8,0.6c0,0,0,0,0,0c0,0,0,0,0,0c-0.3-0.4-1-0.5-1.4-0.1l-0.1,0.1c0,0,0,0,0,0c-0.4,0.3-0.5,1-0.1,1.4c0,0,0,0,0,0c0,0,0,0,0,0c-0.3,0.2-0.5,0.4-0.8,0.7c0,0,0,0,0,0c0,0,0,0,0,0c-0.4-0.4-1-0.4-1.4,0l-0.1,0.1c-0.4,0.4-0.4,1,0,1.4c0,0,0,0,0,0l0,0c-0.2,0.2-0.5,0.5-0.7,0.7c0,0,0,0,0,0c0,0,0,0,0,0c-0.4-0.4-1-0.3-1.4,0.1l-0.1,0.2c-0.4,0.4-0.3,1.1,0.1,1.4c0,0,0,0,0,0l0,0c-0.2,0.3-0.4,0.6-0.6,0.8l0,0c0,0,0,0,0,0c-0.5-0.3-1.1-0.2-1.4,0.3l-0.1,0.1c-0.3,0.5-0.2,1.1,0.3,1.4c0,0,0,0,0,0c0,0,0,0,0,0c-0.2,0.3-0.3,0.6-0.5,0.9l0,0c0,0,0,0,0,0c-0.5-0.3-1.1-0.1-1.4,0.4l-0.1,0.2c-0.3,0.5-0.1,1.1,0.4,1.4c0,0,0,0,0,0c-0.1,0.3-0.3,0.6-0.4,0.9c0,0,0,0,0,0c-0.5-0.2-1.1,0-1.3,0.6l-0.1,0.2c-0.2,0.5,0,1.1,0.6,1.3c0,0,0,0,0,0l0,0c-0.1,0.2-0.2,0.5-0.2,0.7c0,0.1-0.1,0.2-0.1,0.2c0,0,0,0,0,0c-0.5-0.2-1.1,0.2-1.2,0.7l-0.1,0.2c-0.1,0.5,0.2,1.1,0.7,1.2c0,0,0,0,0,0l0,0c-0.1,0.3-0.1,0.6-0.2,1c0,0,0,0,0,0c0,0,0,0,0,0c-0.6-0.1-1.1,0.3-1.1,0.8l0,0.2c-0.1,0.5,0.3,1,0.9,1.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0.1,0,0.3,0,0.4C179.9,214.4,181.1,215.1,182.3,215.7zM53,213.6c1.2,0.8,2.4,1.5,3.6,2.1l7.4,19.7c0,0,7.4,6.2,16.8,6.2c0,0,0.1,0,0.1,0h0c3.3,0,6.5-0.7,9.5-2.2l0.2-0.1l9.9-19.7c2.8-0.5,5.5-1.1,8.1-1.9c4.8-1.3,9.1-3.1,12.9-5.2c-0.1,0-0.1,0-0.2,0c0,0,0,0,0,0c0,0,0,0,0,0c0-0.3-0.1-0.6-0.1-0.9l0,0c0,0,0,0,0,0c0.5-0.1,0.9-0.6,0.8-1.1l0-0.2c-0.1-0.5-0.6-0.9-1.2-0.8c0,0,0,0,0,0c0,0,0,0,0,0c-0.1-0.3-0.1-0.6-0.2-1l0,0c0,0,0,0,0,0c0.5-0.1,0.8-0.7,0.7-1.2l-0.1-0.2c-0.2-0.5-0.7-0.8-1.2-0.7c0,0,0,0,0,0l0,0c-0.1-0.3-0.2-0.6-0.3-0.9c0,0,0,0,0,0c0,0,0,0,0,0c0.5-0.2,0.7-0.8,0.5-1.3l-0.1-0.2c-0.2-0.5-0.8-0.7-1.3-0.5c0,0,0,0,0,0l0,0c-0.1-0.3-0.3-0.6-0.5-0.9l0,0c0,0,0,0,0,0c0.5-0.3,0.6-0.9,0.4-1.4l-0.1-0.2c-0.3-0.5-0.9-0.6-1.4-0.4c0,0,0,0,0,0l0,0c-0.2-0.3-0.4-0.6-0.6-0.8l0,0c0,0,0,0,0,0c0.4-0.3,0.5-1,0.2-1.4l-0.1-0.2c-0.3-0.4-1-0.5-1.4-0.2c0,0,0,0,0,0l0,0c-0.1-0.1-0.1-0.1-0.2-0.2c-0.2-0.2-0.3-0.4-0.5-0.6c0,0,0,0,0,0c0.4-0.4,0.4-1,0.1-1.4l-0.1-0.2c-0.4-0.4-1-0.4-1.4,0c0,0,0,0,0,0l0,0c-0.2-0.2-0.5-0.5-0.7-0.7l0,0c0,0,0,0,0,0c0.4-0.4,0.3-1.1-0.1-1.4l-0.1-0.1c0,0,0,0-0.1,0c-0.4-0.4-1-0.3-1.4,0.1c0,0,0,0,0,0c0,0,0,0,0,0c-0.3-0.2-0.5-0.4-0.8-0.6c0,0,0,0,0,0c0,0,0,0,0,0c0.3-0.5,0.2-1.1-0.2-1.4l-0.2-0.1c-0.4-0.3-1.1-0.2-1.4,0.2c0,0,0,0,0,0l0,0c-0.3-0.2-0.6-0.4-0.8-0.5l0,0c0,0,0,0,0,0c0.3-0.5,0.1-1.1-0.4-1.4l-0.2-0.1c-0.5-0.3-1.1-0.1-1.4,0.4c0,0,0,0,0,0l0,0c-0.3-0.2-0.6-0.3-0.9-0.5c0,0,0,0,0,0c0,0,0,0,0,0c0.2-0.5,0-1.1-0.5-1.3L104,188c-0.5-0.2-1.1,0-1.3,0.5c0,0,0,0,0,0c0,0,0,0,0,0c-0.3-0.1-0.6-0.3-0.9-0.4c0,0,0,0,0,0c0,0,0,0,0,0c0.2-0.5-0.1-1.1-0.6-1.3l-0.2-0.1c-0.5-0.2-1.1,0.1-1.3,0.6c0,0,0,0,0,0c0,0,0,0,0,0c-0.3-0.1-0.6-0.2-1-0.3c0,0,0,0,0,0c0,0,0,0,0,0c0.1-0.5-0.2-1.1-0.7-1.2l-0.2-0.1c-0.5-0.1-1.1,0.2-1.2,0.7c0,0,0,0,0,0l0,0c-0.3-0.1-0.6-0.2-1-0.2c0,0,0,0,0,0c0,0,0,0,0,0c0.1-0.5-0.3-1.1-0.8-1.2l-0.2,0c-0.6-0.1-1.1,0.3-1.2,0.8c0,0,0,0,0,0c0,0,0,0,0,0c-0.3,0-0.7-0.1-1-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0.1-0.5-0.3-1-0.9-1.1l-0.2,0c-0.6-0.1-1,0.4-1.1,0.9c0,0,0,0,0,0l0,0c-0.3,0-0.6,0-0.9-0.1c0,0-0.1,0-0.1,0c0,0,0,0,0,0c0-0.6-0.4-1-1-1l-0.2,0c-0.6,0-1,0.4-1,1c0,0,0,0,0,0l0,0c-0.3,0-0.7,0-1,0l0,0c0,0,0,0,0,0c0-0.6-0.5-1-1.1-0.9l-0.2,0c-0.6,0-1,0.5-0.9,1.1c0,0,0,0,0,0l0,0c-0.3,0-0.7,0.1-1,0.1l0,0c0,0,0,0,0,0c-0.1-0.5-0.6-0.9-1.1-0.8l-0.2,0l0,0c-0.5,0.1-0.9,0.6-0.8,1.1c0,0,0,0,0,0l0,0c-0.3,0.1-0.7,0.1-1,0.2l0,0c0,0,0,0,0,0c-0.1-0.5-0.6-0.9-1.2-0.8l-0.2,0c-0.5,0.1-0.9,0.7-0.7,1.2c0,0,0,0,0,0c0,0,0,0,0,0c-0.3,0.1-0.6,0.2-0.9,0.3l0,0c0,0,0,0,0,0c-0.2-0.5-0.7-0.8-1.3-0.6l-0.2,0.1c-0.5,0.2-0.8,0.7-0.6,1.3c0,0,0,0,0,0l0,0c-0.3,0.1-0.6,0.2-0.9,0.3l0,0c0,0,0,0,0,0c-0.2-0.5-0.8-0.8-1.3-0.5l-0.2,0.1c-0.5,0.2-0.7,0.8-0.5,1.3c0,0,0,0,0,0l0,0c-0.3,0.1-0.6,0.3-0.9,0.4c0,0,0,0,0,0c0,0,0,0,0,0c-0.3-0.5-0.9-0.7-1.4-0.4l-0.2,0.1c-0.5,0.3-0.7,0.9-0.4,1.4c0,0,0,0,0,0c0,0,0,0,0,0c-0.3,0.2-0.6,0.3-0.8,0.5c0,0,0,0,0,0c0,0,0,0,0,0c-0.3-0.5-0.9-0.6-1.4-0.3l-0.2,0.1c-0.5,0.3-0.6,0.9-0.3,1.4c0,0,0,0,0,0c0,0,0,0,0,0c-0.3,0.2-0.5,0.4-0.8,0.6l0,0c0,0,0,0,0,0c-0.3-0.4-1-0.5-1.4-0.1l-0.1,0.1c0,0,0,0,0,0c-0.4,0.3-0.5,1-0.1,1.4c0,0,0,0,0,0l0,0c-0.3,0.2-0.5,0.4-0.8,0.7c0,0,0,0,0,0c0,0,0,0,0,0c-0.4-0.4-1-0.4-1.4,0l-0.1,0.1c-0.4,0.4-0.4,1,0,1.4c0,0,0,0,0,0l0,0c-0.2,0.2-0.5,0.5-0.7,0.7l0,0c0,0,0,0,0,0c-0.4-0.4-1-0.3-1.4,0.1l-0.1,0.2c-0.4,0.4-0.3,1.1,0.1,1.4c0,0,0,0,0,0c0,0,0,0,0,0c-0.2,0.3-0.4,0.5-0.6,0.8c0,0,0,0,0,0c0,0,0,0,0,0c-0.5-0.3-1.1-0.2-1.4,0.3l-0.1,0.1c-0.3,0.5-0.2,1.1,0.3,1.4c0,0,0,0,0,0c0,0,0,0,0,0c-0.2,0.3-0.3,0.5-0.5,0.8c0,0,0,0,0,0c0,0,0,0,0,0c-0.5-0.3-1.1-0.1-1.4,0.4l-0.1,0.2c-0.3,0.5-0.1,1.1,0.4,1.4c0,0,0,0,0,0c-0.1,0.1-0.1,0.2-0.2,0.3c-0.1,0.2-0.2,0.4-0.3,0.6l0,0c0,0,0,0,0,0c-0.5-0.2-1.1,0-1.3,0.6l-0.1,0.2c-0.2,0.5,0,1.1,0.6,1.3c0,0,0,0,0,0l0,0c-0.1,0.3-0.2,0.6-0.3,1l0,0c0,0,0,0,0,0c-0.5-0.2-1.1,0.2-1.2,0.7l-0.1,0.2c-0.1,0.5,0.2,1.1,0.7,1.2c0,0,0,0,0,0l0,0c-0.1,0.3-0.1,0.7-0.2,1l0,0c0,0,0,0,0,0c-0.6-0.1-1.1,0.3-1.1,0.8l0,0.2c-0.1,0.5,0.3,1,0.9,1.1c0,0,0,0,0,0l0,0C53,213.4,53,213.5,53,213.6z').attr({fill: '#ffffff', stroke: 'none'});
	B[4].el.rouges = B[4].R1.path('M412.7,76.5c0,0,6,5,13.6,5c0,0,0,0,0.1,0h0c2.7,0,5.3-0.6,7.7-1.8l0.2-0.1l8-16c2.3-0.4,4.5-0.9,6.6-1.5c3.8-1.1,7.3-2.5,10.3-4.1c-1.1-12.9-13.9-22.7-29-21.9c-14.2,0.7-25.5,10.7-26.4,22.7c1,0.7,2,1.2,3,1.7L412.7,76.5M441.9,235.4c0,0,7.4,6.2,16.8,6.2c0,0,0.1,0,0.1,0h0c3.3,0,6.5-0.7,9.5-2.2l0.2-0.1l9.9-19.7c2.8-0.5,5.5-1.1,8.1-1.9c4.7-1.3,9-3,12.7-5.1c-1.4-16-17.2-28-35.7-27c-17.6,0.9-31.5,13.2-32.6,28.1c1.2,0.8,2.5,1.5,3.6,2.1L441.9,235.4M315.3,235.4c0,0,7.4,6.2,16.8,6.2c0,0,0.1,0,0.1,0h0c3.3,0,6.5-0.7,9.5-2.2l0.2-0.1l9.9-19.7c2.8-0.5,5.5-1.1,8.1-1.9c4.7-1.3,9-3,12.7-5.1c-1.4-16-17.2-28-35.7-27c-17.6,0.9-31.5,13.2-32.6,28.1c1.2,0.8,2.5,1.5,3.6,2.1L315.3,235.4M427.7,149c0,0,6.7,5.6,15.2,5.6c0,0,0.1,0,0.1,0h0c3,0,5.8-0.7,8.6-1.9l0.2-0.1l8.9-17.8c2.5-0.4,4.9-1,7.3-1.7c4.2-1.2,8.1-2.7,11.4-4.6c-1.2-14.4-15.4-25.2-32.2-24.3c-15.8,0.8-28.3,11.8-29.4,25.2c1.1,0.7,2.2,1.4,3.3,1.9L427.7,149M312.2,149c0,0,6.7,5.6,15.2,5.6c0,0,0.1,0,0.1,0h0c3,0,5.8-0.7,8.6-1.9l0.2-0.1l8.9-17.8c2.5-0.4,5-1,7.3-1.7c4.2-1.2,8.1-2.7,11.4-4.6c-1.2-14.4-15.4-25.2-32.2-24.3c-15.8,0.8-28.3,11.8-29.4,25.2c1.1,0.7,2.2,1.4,3.3,1.9L312.2,149z').attr({fill: '#FD250C', stroke: 'none'});
	B[4].el.jaune = B[4].R2.path('M42.9,118.5l15.3,40.9c0,0,15.5,12.8,35,12.9c0.1,0,0.1,0,0.2,0h0c6.8,0,13.5-1.5,19.7-4.5l0.5-0.2l20.6-41c5.8-1,11.4-2.4,16.8-4c9.7-2.7,18.6-6.3,26.4-10.6c-2.9-33.1-35.6-58.1-74.2-56.1c-36.5,1.9-65.3,27.3-67.8,58.3C37.9,115.9,40.5,117.3,42.9,118.5z').attr(paramBlack);
	B[4].el.violet = B[4].R2.path('M280,118.5l15.3,40.9c0,0,15.5,12.8,35,12.9c0.1,0,0.1,0,0.2,0h0c6.8,0,13.5-1.5,19.7-4.5l0.5-0.2l20.6-41c5.8-1,11.4-2.4,16.8-4c9.7-2.7,18.6-6.3,26.4-10.6c-2.9-33.1-35.6-58.1-74.2-56.1c-36.5,1.9-65.3,27.3-67.8,58.3C274.9,115.9,277.5,117.3,280,118.5z').attr(paramBlack);
	
	// Anim-5
	
	B[5] = {
		boxName: '#etape-5', boxAnimName: '#anim-5',
		reInit: function() {
			
		},
		launchAnim: function() {
			$.doTimeout(3000, function() {$('#etape-5 a.next').addClass('blink');});
		},
		resize: function() {
			
		}
	};
	
	// Anim-6
	
	B[6] = {
		boxName: '#etape-6', boxAnimName: '#anim-6',
		reInit: function() {
			
		},
		launchAnim: function() {
			
		},
		resize: function() {
			
		}
	};
	
	// Here we go!
	
	$window.resize();
	navTo(current);
	$('#sidebar').delay(1000).queue(function(){$(this).trigger('mouseout')});
	
});

/* pngif v0.1 - Didjo */
$.fn.pngif=function(loops,fps){var loops=loops==undefined?0:loops,fps=fps==undefined?25:fps;this.each(function(){var el=$(this),loop=loops,i=0,height=el.height(),frames;var animate=function(){var bgPos=0,bgPos='-'+i*height+'px';el.css('background-position',['0 ',bgPos].join(''));if(i<frames){i++}else{if(loops==0){i=0}else{loop--;if(loop==0){return}else{i=0}}}window.setTimeout(function(){(0,animate)()},1000/fps);};$('<img/>').attr('src',function(){var imgUrl=el.css('background-image');imgUrl = /url\(\s*(['"]?)(.*?)\1\s*\)/.exec(imgUrl)[2];return imgUrl}).load(function(){frames=Math.floor($(this)[0].height/height)-1;animate()})});return this;};

